---
layout: post
title: ç®—æ³•æ•°æ®ç»“æ„ 9 - Queue, Double Ended Q, List
date: 2020-03-06
excerpt: "å­¦ä¹ ç¬”è®° * ç®—æ³•æ•°æ®ç»“æ„ 9 - é˜Ÿåˆ—(æ•°ç»„, å¯å˜å¤§å°æ•°ç»„ï¼Œé“¾è¡¨å®ç°)ï¼ŒåŒç«¯é˜Ÿåˆ—ï¼Œåˆ—è¡¨"
tags: [å­¦ä¹ ç¬”è®°, code, ç®—æ³•æ•°æ®ç»“æ„, 2020]
feature: http://user.ceng.metu.edu.tr/~ys/ceng707-dsa/overview.png
comments: true
---

* ç›®å½•
{:toc}

## RECAP

![](/static/2020-03-06-16-12-31.png)

Abstrtact Data Types (ADTs)

ğŸ¬ æŠ½è±¡æ•°æ®ç±»å‹
> é€šå¸¸æ˜¯å¯¹æ•°æ®çš„æŠ½è±¡ï¼Œå®šä¹‰äº†æ•°æ®çš„å–å€¼èŒƒå›´ä»¥åŠå¯¹æ•°æ®æ“ä½œçš„é›†åˆã€‚
> æŠ½è±¡æ•°æ®ç±»å‹çš„ç‰¹å¾æ˜¯å®ç°ä¸æ“ä½œåˆ†ç¦»ï¼Œä»è€Œå®ç°å°è£…ã€‚

![](/static/2020-03-03-14-58-47.png)
- æŠ½è±¡åˆ†ç¦»äº†æ•°æ®ä¸ç»“æ„

ğŸŠ ADT vs Data Structure
![](/static/2020-03-03-15-12-03.png)
- ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ç±»å‹ & æ“ä½œ
  - ä¾‹å­: Set,List,Stack,Queue,Priority Queue,Double Ended Queue
- ADTæ˜¯ä¸€ç§å®šä¹‰äº†å°è£…äº†æ•°æ®&é€»è¾‘è¡Œä¸ºçš„å¯¹è±¡ç±»
- **æ•°æ®ç»“æ„æ˜¯ADTçš„å®ç°ï¼Œæ˜¯ADTçš„åŸºç¡€**
  - ADTå®šä¹‰äº†æ•°æ®ç±»å‹é€»è¾‘å½¢å¼
  - æ•°æ®ç»“æ„æ˜¯æ•°æ®ç±»å‹çš„ç‰©ç†å®ç°

![](/static/2020-03-04-03-03-33.png)

## Queue

![](/static/2020-03-06-16-22-15.png)
- é˜Ÿåˆ—æŠ½è±¡æ•°æ®ç±»å‹: å­˜å‚¨ä»»æ„å…ƒç´ 
- å¢åˆ éµå¾ª`FIFOå…ˆè¿›å…ˆå‡º`åŸåˆ™

ğŸŠ ä¸»è¦é˜Ÿåˆ—æ“ä½œ
- `ENQUEUE(Q,x)`
  - åœ¨é˜Ÿåˆ—å°¾æ’å…¥å…ƒç´ x
  - æ™®é€šæ•°ç»„å®ç°å­˜åœ¨å‘ä¸Šæº¢å‡º
- `DEQUEUE(Q)`
  - åˆ é™¤&è¿”å›é˜Ÿåˆ—å¤´éƒ¨å…ƒç´ 
  - æ™®é€šæ•°ç»„å®ç°å­˜åœ¨å‘ä¸‹æº¢å‡º

ğŸŠ è¾…åŠ©æ“ä½œ
- `FRONT(Q)`
  - è¿”å›é˜Ÿåˆ—å¤´éƒ¨å…ƒç´ 
- `QUEUE-SIZE(Q)`
  - è¿”å›é˜Ÿåˆ—å…ƒç´ æ•°é‡
- `QUEUE-EMPTY(S)`
  - åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º

---

### Application

![](/static/2020-03-06-17-03-59.png)

ğŸŠ ç›´æ¥åº”ç”¨
- ç­‰å¾…åˆ—è¡¨
- è®¿é—®å…±äº«èµ„æº(æ‰“å°æœº)
- å¤šä»»åŠ¡

ğŸŠ é—´æ¥åº”ç”¨
- è¾…åŠ©ç®—æ³•
- æ„æˆå…¶ä»–æ•°æ®ç±»å‹

## (Wrap-around)Array Implementation

![](/static/2020-03-06-17-28-14.png)
- æœ‰ç•Œé˜Ÿåˆ—å¯ä»¥é€šè¿‡å¾ªç¯æ•°ç»„ä½¿ç”¨
  - `Wrapper-around array`: index 0 follows n-1(circulation)

ğŸŠ ä¸¤ä¸ªé˜Ÿåˆ—æŒ‡é’ˆ
- `Q.head`
  - æŒ‡å‘é˜Ÿåˆ—å¤´éƒ¨å…ƒç´ 
- `Q.tail`
  - æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ æ’å…¥çš„ä½ç½®
  - é€šå¸¸ä¸º`null`

ğŸ¬ `Q.head=Q.tail`
- é˜Ÿåˆ—ä¸ºç©º

### Operations

ğŸŠ FIFO - å…ˆè¿›å…ˆå‡º
![](/static/2020-03-06-17-45-14.png)

ğŸ¬ æ’å…¥
- å…ƒç´ æ’å…¥é˜Ÿåˆ—å°¾éƒ¨`Q.tail`ä½ç½®ï¼Œä¸”`Q.tail`åç§»
  - `wrap around array`, **å½“å°¾æŒ‡é’ˆå˜ä¸ºn-1æ—¶(é˜Ÿåˆ—å°¾éƒ¨)ï¼Œä¸‹ä¸€æ¬¡æ”¹ä¸º0**

ğŸ¬ åˆ é™¤
- é˜Ÿåˆ—å¤´éƒ¨å…ƒç´ åˆ é™¤ï¼Œ`Q.head`åç§»
  - **å½“å¤´éƒ¨æŒ‡é’ˆä¸ºn-1æ—¶,ä¸‹ä¸€æ¬¡æ”¹ä¸º0**

ğŸ¬ å­˜åœ¨å‘ä¸Šæº¢å‡º&å‘ä¸‹æº¢å‡º
- é˜Ÿåˆ—n-1ä¸ªå…ƒç´ æ—¶ï¼Œenqueueæ“ä½œé€ æˆoverflows
  - **åªå­˜åœ¨äºä¸å¯å˜æ•°ç»„å®ç°ä¸­**
- é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œdequeueæ“ä½œé€ æˆunderflows

---
![](/static/2020-03-06-18-27-11.png)
- ä½¿ç”¨`%`å–ä½™ç¬¦å·å®ç°`wrap-around`æ•°ç»„

```python
""" åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º """
QUEUE-EMPTY(Q):
  return Q.head = Q.tail
```

```python
""" é˜Ÿåˆ—å¤§å° """
QUEUE-SIZE(Q):
  return n-Q.HEAD
```

```python
""" é˜Ÿåˆ—å°¾æ’å…¥ """
ENQUEUE(Q,x):
  if QUEUE_SIZE(Q) = n-1:
    # é˜Ÿåˆ—æ»¡
    error "overflow"
  else:
  # é˜Ÿåˆ—å°¾éƒ¨æ–°æ’å…¥å…ƒç´ x
    Q[Q.tail] = x
    # å°¾æŒ‡é’ˆåç§»(ä½¿ç”¨%,å½“æŒ‡é’ˆ=n-1æ—¶æ›´æ–°ä¸º0)
    Q.tail = (Q.tail+1)%n
```

```python
""" é˜Ÿåˆ—å¤´åˆ é™¤ """
DEQUEUE(S):
  if QUEUE-EMPTY(S):
    error "underflow"
  else:
    x = Q[Q.head]
    # å¤´éƒ¨æŒ‡é’ˆåç§»
    Q.head = (Q.head+1)%n
    return x
```

ğŸ¬ æ—¶é—´å¤æ‚åº¦: Oï¼ˆ1ï¼‰

### Performance & Limitations

![](/static/2020-03-07-00-20-50.png)
- æ•°ç»„å¤§å°ä¸ºn
  - ç©ºé—´å¤æ‚åº¦O(n),**å–å†³äºé˜Ÿä¸­å…ƒç´ æ•°**
- (æ•°ç»„)é˜Ÿåˆ—å¤§å°éœ€è¦æå‰å®šä¹‰ï¼Œä¸”ä¸å¯æ”¹å˜
  - å¦‚é˜Ÿåˆ—æ»¡n-1,æ’å…¥æ–°å…ƒç´ ä¼šé€ æˆ`ArrayOutOfBounds`

## Resizable Array Implementation

![](/static/2020-03-07-00-53-24.png)
- ä¸å¯å˜å¤§å°æ•°ç»„å®ç°æ ˆç›¸ä¼¼,å½“é˜Ÿåˆ—æ»¡æ—¶n-1æ’å…¥
  - å…ƒç´ æ‹·è´è¿›é‡å®šä¹‰å¤§å°åçš„æ–°æ•°ç»„
- å½“åˆ é™¤å…ƒç´ æ—¶, ç¼©å°ç©ºæ•°ç»„ç©ºé—´

æ“ä½œå¹³æ‘Šæ—¶é—´å¤æ‚åº¦: å¸¸é‡çº§

ç©ºé—´å¤æ‚åº¦éšè¾“å…¥å¤§å°(é˜Ÿåˆ—å…ƒç´ å¤§å°)çº¿æ€§å¢åŠ 

---

### Operations

```python
# n'æ–°æ•°ç»„å¤§å°
# æ¯æ¬¡è°ƒç”¨resizeå
RESIZE(Q,n')
  new Q'[0..n'-1]
  for i=0 to n-2:
  # å¤´éƒ¨æŒ‡é’ˆå¾ªç¯åç§»
    Q'[i] = Q[(Q.head+i) %n]
  Q = Q'
  Q.head = 0
  Q.tail = n-1
```

```python
ENQUEUE(Q,x)
  if QUEUE-SIZE(Q) = n-1
  # æ‰©å¤§ä¸¤å€
    RESIZE(Q,2n)
  # æ–°æ•°ç»„å°¾æ’å…¥
  Q[Q.tail] = x
  # å°¾æŒ‡é’ˆå¾ªç¯ç§»åŠ¨
  Q.tail = (Q.tail+1)%n
```

```python
DEQUEUE(Q)
  if QUEUE-EMPTY(Q)
    error "underflow"
  # å–å‡ºè¿”å›å€¼
  x = Q[Q.head]
  # å¤´æŒ‡é’ˆåç§»
  Q.head = (Q.head+1)%n
  # æœ‰æ•ˆå…ƒç´ æ•°ä¸ºæ•°ç»„å¤§å°çš„1/4ï¼Œå¯¹åŠç¼©å°
  if QUEUE-SIZE(Q) = n/4
    RESIZE(Q,n/2)
  return x
```

---

## Linked List Implementation

![](/static/2020-03-07-02-59-48.png)
- é˜Ÿåˆ—ADTå¯ä»¥ç®€å•é€šè¿‡é“¾è¡¨æŒ‡é’ˆå®ç°ï¼ŒåŠ¨æ€å…ƒç´ åˆ†é…ä¸ä¼šé€ æˆoverflow
- `L.head` -> Q.head
  - `DELETE-HEAD` å¤´éƒ¨åˆ é™¤
- `L.tail` -> Q.tail
  - `INSERT-TAIL` å°¾éƒ¨åˆ é™¤

ğŸ¬ åŒé“¾è¡¨å®ç°æ€§èƒ½ç›¸åŒï¼Œä½†ç©ºé—´å¤æ‚åº¦ä¸ä¼˜

### Operations

```python
ENQUEUE(Q,x)
  # æ–°æ’å…¥å…ƒç´ åæŒ‡é’ˆä¸ºç©º
  x.next = NIL
  if Q.tail = NIL
  # å¦‚å½“å‰å°¾æŒ‡é’ˆä¸ºç©ºæ—¶ï¼Œè¡¨ç¤ºé“¾è¡¨ä¸ºç©º
  # ç›´æ¥å¤´éƒ¨æŒ‡é’ˆæŒ‡å‘æ–°å…ƒç´ ã€å¤´éƒ¨æ’å…¥ã€‘
    Q.head = x
  else:
  # åœ¨å°¾æŒ‡é’ˆåéƒ¨å…³è”æ–°å…ƒç´ 
    Q.tail.next = x
  # ç§»åŠ¨å°¾éƒ¨æŒ‡é’ˆï¼ŒæŒ‡å‘æ–°æ’å…¥å…ƒç´ 
  Q.tail = x
```

```python
DEQUEUE(Q)
  if Q.head = NIL
    # å½“å‰é“¾è¡¨ä¸ºç©º
    error "underflow"
  # è¿”å›åˆ é™¤å…ƒç´ 
  x = Q.head
  # å¤´éƒ¨æŒ‡é’ˆåç§»
  Q.head = Q.head.next
  # å¦‚æœåä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™é“¾è¡¨(é˜Ÿåˆ—)ä¸ºç©º
  # åæŒ‡é’ˆæŒ‡å‘ç©ºèŠ‚ç‚¹
  if Q.head = NIL
    Q.tail = NIL
  return x
```

## Double Ended Queue

![](/static/2020-03-07-09-22-18.png)
- æ”¯æŒ**åŒç«¯**å¢åˆ 
  - ä¹Ÿç§°ä¸º`åŒç«¯é˜Ÿåˆ—Dequeue`

### Operations

![](/static/2020-03-07-09-22-34.png)
ğŸŠ æ’å…¥
- `PUSH-BACK(Q,x)` é˜Ÿåˆ—å°¾éƒ¨æ’å…¥(ä¸ä¹‹å‰çš„`ENQUEUE`æ–¹æ³•ç›¸åŒ)
- `PUSH-FRONT(Q,x)` é˜Ÿåˆ—å¤´éƒ¨æ’å…¥(æˆ–ç§°ä¸º`UNSHIFT`)

ğŸŠ åˆ é™¤
- `POP-BACK(Q)`é˜Ÿåˆ—å°¾éƒ¨åˆ é™¤&è¿”å›
- `POP-FRONT(Q)`é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤&è¿”å›(æˆ–ç§°ä¸º`SHIFT`ï¼Œä¸ä¹‹å‰çš„`DEQUEUE`æ–¹æ³•ç›¸åŒ)

![](/static/2020-03-07-09-28-34.png)
ğŸ¬ é€šå¸¸é€šè¿‡å¯å˜å¤§å°æ•°ç»„æˆ–åŒç«¯é“¾è¡¨å®ç°

## List

![](/static/2020-03-07-09-29-09.png)
- åˆ—è¡¨ADTå­˜å‚¨ä»»æ„å…ƒç´ çš„**å¯æ•°**åºåˆ—
  - å…è®¸å­˜åœ¨**é‡å¤å€¼**

ğŸ¬ å¤§å¤šç¼–ç¨‹è¯­è¨€ä¸­çš„åŸºç¡€æ•°æ®ç±»å‹

### Operations

![](/static/2020-03-07-09-32-38.png)
- `GET(L,i)` è¿”å›åˆ—è¡¨Lä¸­iä½ç½®å…ƒç´ 
- `SET(L,i,x)` ä¿®æ”¹åˆ—è¡¨Lä¸­iä½ç½®å…ƒç´ ->xå¹¶ä¸”è¿”å›åŸæ¥å…ƒç´ 
- `ADD(L,x)`åˆ—è¡¨å°¾éƒ¨æ’å…¥x
- `ADD-AT(L,i,x)`åˆ—è¡¨iä½ç½®æ’å…¥å…ƒç´ x, iä½ç½®ä¹‹åå…ƒç´ æ”¹å˜(**shift**)
- `REMOVE(L,i)`åˆ é™¤iä½ç½®å…ƒç´ å¹¶è¿”å›ï¼Œiä½ç½®ä¹‹åå…ƒç´ æ”¹å˜(**shift**))

### Traversal

![](/static/2020-03-07-10-02-15.png)
- å·¦è‡³å³ï¼Œå³è‡³å·¦éå†ï¼ˆåŒé“¾è¡¨ï¼‰

### Append: List Concatenation

![](/static/2020-03-07-10-03-33.png)
- åˆ—è¡¨æ‹¼æ¥: L0 & L1

### LIST Implementations : Analysis

![](/static/2020-03-07-10-06-32.png)

ğŸ¬ å¯å˜å¤§å°æ•°ç»„å®ç°åˆ—è¡¨
- **get & set** - O(1)
  - ç´¢å¼•æ“ä½œ
- **add** - O(n)
- **add-at & remove** - O(n)
  - æ¶‰åŠäº†shiftå…¶ä»–å…ƒç´ 
- **append**åˆ—è¡¨æ‹¼æ¥
  - O(n0+n1)

ğŸ¬ é“¾è¡¨å®ç°åˆ—è¡¨
- **get&set** - O(n)
  - ç´¢å¼•æ“ä½œ
- **add** - O(1)
  - å°¾éƒ¨æ’å…¥
- **add-at & remove** - O(n)
  - element shifting
- **append** - O(1)
  - åˆ—è¡¨æ‹¼æ¥ï¼Œç›´æ¥åæŒ‡é’ˆæŒ‡å‘æ•´ä¸ªåˆ—è¡¨

ğŸ¬ åŒé“¾è¡¨æ”¯æŒå·¦å³ç›¸äº’éå†`right-to-left`