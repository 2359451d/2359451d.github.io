---
layout: post
title: "WAD2 LECTURE 17&18 - Processing XML"
date: 2020-04-06
excerpt: "webç¬”è®°, XMLæ•°æ®å¤„ç†ï¼ŒDOM&SAXè§£æ"
tags: [å­¦ä¹ ç¬”è®°, WAD, 2020, web]
feature: https://www.pngkey.com/png/detail/212-2125619_web-development-creative-web-design-banner.png
comments: true
---

* ç›®å½•
{:toc}

## XML Structure

![](/static/2020-04-06-14-45-51.png)

* XMLç»“æ„ä¸¥æ ¼çº¦æŸï¼Œæ ¼å¼è‰¯å¥½ã€‚
* æ ‡ç­¾å¤§å°å†™æ•æ„Ÿ
* æœä»åˆ†å±‚ç»“æ„
* éœ€è¦DTD,XSDè§„èŒƒéªŒè¯XMLè¯­æ³•

## Displaying XML

![](/static/2020-04-07-19-57-46.png)
![](/static/2020-04-07-20-01-06.png)

* åˆæ³•çš„XMLå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤º
* éæ³•XMLæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

## Programming & XML

![](/static/2020-04-07-20-03-24.png)

ğŸŠ è§£ææ–¹å¼

* DOM - è§£ææ•´ä¸ªæ–‡æ¡£
* SAX(The Simple API for XML) - éƒ¨åˆ†è§£æ

### Definition: Document Object Model

![](/static/2020-04-07-20-10-54.png)

ğŸŠ ä¸‰ç§DOMæ¨¡å‹

* æ ¸å¿ƒDOM
* HTML DOM
* XML DOM

### XML DOM

![](/static/2020-04-07-22-54-20.png)

* XMLæ–‡æ¡£ä¸­æ‰€æœ‰å…ƒç´ ä¸ºç»“ç‚¹

#### XML DOM Nodes

![](/static/2020-04-08-02-55-44.png)

* XMLæ–‡æ¡£DOMçš„æ–‡æœ¬ä¹Ÿä¸ºç»“ç‚¹

#### XML DOM Node Tree

![](/static/2020-04-08-03-01-49.png)

#### Parents, Children, Siblings

![](/static/2020-04-08-03-04-53.png)

#### Working with DOM

![](/static/2020-04-08-03-06-55.png)

ğŸŠ æ­¥éª¤

* åŠ è½½XMLæ–‡æ¡£DOM
* éå†æ•´ä¸ªDOMæ ‘æ¨¡å‹ï¼Œæˆ–æŸ¥è¯¢ç‰¹å®šèŠ‚ç‚¹
* æå–æŸèŠ‚ç‚¹å±æ€§&å€¼&æ•°æ®ï¼ŒåŠ¨æ€å¢åˆ æŸ¥æ”¹
* é‡å¤ç›´åˆ°å®Œæˆ

#### Example of DOM Parsing

![](/static/2020-04-08-03-18-40.png)

ğŸŠ domè§£æè¦ç‚¹

* åˆ›å»º`DOMParser`å¯¹è±¡
* å°†XMLè§£ææˆ xmlDocå¯¹è±¡
* éå†DOMç»“ç‚¹æ ‘æ¨¡å‹(è®¿é—®å„ä¸ªç»“ç‚¹ï¼Œæå–ä¿¡æ¯)

---
![](/static/2020-04-08-03-24-06.png)

#### AJAXï¼šDOM Parsing

![](/static/2020-04-08-03-26-41.png)
![](/static/2020-04-08-03-30-34.png)
![](/static/2020-04-08-03-30-47.png)

#### Traversing the XML DOM Tree

![](/static/2020-04-08-03-32-24.png)
![](/static/2020-04-08-03-33-45.png)

### DOM Parsing using JAVA

![](/static/2020-04-08-03-45-00.png)
![](/static/2020-04-08-03-54-40.png)
![](/static/2020-04-08-03-55-02.png)

* æ‰“å¼€&è§£æXMLæ–‡ä»¶

### SAXï¼šSimple API for XML

![](/static/2020-04-09-05-16-20.png)

* äº‹ä»¶é©±åŠ¨çš„XMLæµè§£æ
  * å•å·¥è§£æï¼Œæ— è§£æå›æµ
  * è§£æè¿‡ç¨‹ä¸­ï¼Œå›è°ƒå‡½æ•°åŸºäºäº‹ä»¶

* SAXçŠ¶æ€ç‹¬ç«‹çš„è§£ææ“ä½œï¼Œä¸‹æ›¿æ˜¯StAX:çŠ¶æ€ä¾èµ–çš„è§£ææ“ä½œ

#### Event Handling/Types in SAX

ğŸŠ ä»¥ä¸‹XMLæ–‡æ¡£ç»“ç‚¹æ”¯æŒäº‹ä»¶
![](/static/2020-04-09-19-32-02.png)

* æ–‡æœ¬ç»“ç‚¹
* å…ƒç´ èŠ‚ç‚¹
* æ³¨é‡ŠèŠ‚ç‚¹
* å¤„ç†æŒ‡ä»¤(XPath & XQuery)

ğŸ¬ äº‹ä»¶è§¦å‘

* **å¼€é—­å…ƒç´ æ ‡ç­¾**
* æµè¿›**DATAéƒ¨åˆ†**(#PCDATA & CDATA)
* **å¤„ç†æŒ‡ä»¤**ï¼Œæ³¨é‡Š

#### Workflow: SAX

![](/static/2020-04-09-19-41-55.png)

* åˆ›å»ºè‡ªå®šä¹‰(è£å‰ªå)å¯¹è±¡æ¨¡å‹ custom object model
  * å¦‚ResultSet & Result
* åˆ›å»º**SAXè§£æå™¨**ï¼Œé’ˆå¯¹COMéƒ¨åˆ†å¤„ç†æœºåˆ¶å¤„ç†XMLæ–‡æ¡£.(è§ä¾‹å­)
* åˆ›å»º**æ–‡æ¡£å¤„ç†å™¨(æœºåˆ¶)**ï¼Œå°†XMLè½¬æ¢ä¸ºè‡ªå®šä¹‰æ¨¡å‹å®ä¾‹ (<font color="red">XML->COM</font>)
  * å†…å®¹å¤„ç†: å®ç°ä¸»è¦SAXæ¥å£ï¼Œå¤„ç†æ–‡æ¡£äº‹ä»¶
  * DTDå¤„ç†: å¤„ç†DTDäº‹ä»¶
  * å®ä½“è§£æ: è§£æå¤–éƒ¨å®ä½“
  * é”™è¯¯å¤„ç†ï¼šé”™è¯¯&è­¦å‘Š
  * é»˜è®¤å¤„ç†: å…¶ä»–XMLäº‹ä»¶å¤„ç†

#### SAX Handler Methods

![](/static/2020-04-09-20-39-42.png)

ğŸŠ SAXäº‹ä»¶å¤„ç†æœºåˆ¶(XML->COM,éƒ¨åˆ†è£å‰ªè§£æ)

* startDocument
  * è§£æå‰æ“ä½œ
* endDocument
  * è§£æå®Œæˆåæ“ä½œ(å¦‚åˆ†ææ€§ç»“æœæŠ¥å‘Š)
* startElement(name, attributes)
  * æŸå…ƒç´ æ ‡ç­¾å‰æ“ä½œ
* endElement(name)
  * æŸå…ƒç´ æ ‡ç­¾ç»“æŸåæ“ä½œ
* characters(ch)
  * æ–‡æœ¬ç»“ç‚¹æ“ä½œ

---

EXAMPLE

![](/static/2020-04-09-20-44-46.png)

XMLParserSAX
![](/static/2020-04-09-20-47-49.png)

MyHandler
![](/static/2020-04-09-20-48-54.png)
![](/static/2020-04-09-20-50-00.png)
![](/static/2020-04-09-20-50-33.png)
![](/static/2020-04-09-20-50-56.png)

### DOM vs SAX

![](/static/2020-04-09-20-51-25.png)

ğŸŠ DOM

* å†…å­˜éœ€æ±‚å¤§
* è§£ææ…¢ï¼Œç®€å•
* éœ€è¦è®¿é—®æ•´ä¸ªXMLæ–‡æ¡£åè§£æå¤„ç†(å†…å­˜è¶³å¤Ÿæƒ…å†µä¸‹)
* å†…å­˜ä¸å¤Ÿæƒ…å†µä¸‹å¯é€šè¿‡ç£ç›˜ç¼“å­˜å¤„ç†(æ…¢)

ğŸŠ SAX

* èŠ‚çœå†…å­˜
* è§£æå¿«ï¼Œç›¸å¯¹å¤æ‚
* å¦‚XMLéœ€è¦åˆæ³•ï¼Œæ— æ³•ä¸€æ¬¡æ€§ç›´æ¥å¤„ç†æ‰€æœ‰éœ€æ±‚COM
  * éœ€è¦åˆ†æ‰¹å¤šæ¬¡å¤„ç†

