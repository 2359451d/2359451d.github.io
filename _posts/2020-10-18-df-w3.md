---
layout: post
title: "DF Week3 - Visualisation"
date: 2020-10-18
excerpt: "data fundamentalsç¬”è®°"
tags: [å­¦ä¹ ç¬”è®°, data fundamentals, 2020, python]
feature: https://miro.medium.com/max/1400/1*gHamsYEMBoVIWbTbn3CQ-A.gif
comments: true
---

[reference: week_3_visualisation.html
](https://moodle.gla.ac.uk/pluginfile.php/1241378/mod_folder/content/0/week_3_visualisation.html?forcedownload=1)

infomation is filteredï¼Œï¼Œå·²ç­›é€‰éƒ¨åˆ†ç”¨å¾—ä¸Šçš„

* ç›®å½•
{:toc}

## Outline

you should know

* **grammer** of graphics
  * dataset
  * stat
  * scale
  * mapping
  * coord
  * geom
  * guide
  * layer
  * facet
  * figure
  * caption
* how **grammer elements appear in visualisation**
* **produce correct simple scientific chart from numerical data**
* basics of `matplotlib`
* basic plot types
  * line
  * bar
  * scatter
* **different** ways to **represent data in 2D plots**
* use of **stats**
  * transform data
  * binning
  * summarisation
  * smoothing
* **linear & log & polar coordinate systems**
* use of point, line and area geoms
  * represent data & standard aesthetic mappings
* appropriate **aesthetic mappings for colour information**
* how to **criticise scientific visualisations**
* how to **represent uncertainty accurately** in a plot

ğŸŠ Plus

* make graphs
  * **conceptually** correct
  * **technically** correct
    * details of data representation are complete & accurate
  * **aesthetically** correct
* criticise & improve visual representations

## What is Visualisation

![](/static/2020-10-19-14-16-24.png)

ğŸŠ scientific visualisations

![](/static/2020-10-19-14-20-20.png)
![](/static/2020-10-19-14-27-16.png)

* visualising numerical data
* focus on precision, clarity & accuracy in visualisation
  * core principles of representing data clearly using simple static graphs

ğŸŠ basic categories

![](/static/2020-10-19-14-35-26.png)

* 1D array
  * **ç›´æ–¹å›¾histograms** -- single columns
* pairs of 1D array
  * **scatterplots** -- 2 columns
* 2D array
  * **contour plots** -- whole tables

## Grammer of Graphics

graphical language

* how to turn data into images
* how interpret those images

layered grammer of graphic

![](/static/2020-10-19-16-59-43.png)

* **stat**
  * **ç»Ÿè®¡é‡ï¼ˆä»åŸå§‹æ•°æ®é›†è®¡ç®—å¾—å‡º**) static computed from data
  * è¯¥ç»Ÿè®¡é‡éšåè¢«å¯è§†åŒ–æ˜ å°„ï¼ˆæ›´å¥½æ¦‚è¿°å…¶æ•°æ®ï¼‰intention: summarising the data compactly
  * ğŸŠå¦‚ï¼Œå¹³å‡å€¼&æ ‡å‡†å·®å°±ä¸ºç»Ÿè®¡é‡**mean & standard deviation of a series of measurements**
  * ğŸŠç›´æ–¹å›¾æ•°æ®åˆ†ç»„ï¼ˆbinningï¼‰ example: binning of values in histograms(single columns) is **stat**
* **Mapping**
  * represents a transformation of data attributes to visual values
  * maps **selected attributes**( which includes stats or raw dataset) -> **visual values**(using a scale to give units to the attribute)**æ˜ å°„é€‰ä¸­çš„å±æ€§ï¼ˆå­—æ®µï¼‰->å¯è§†åŒ–å€¼ï¼ˆå¹¶é€šè¿‡scaleç»™ç‰¹å®šå±æ€§å¯è§†åŒ–å…¶å•ä½ï¼‰**
  * **scale** åˆ»åº¦
    * specifies the transformation of the units in the dataset/stat to visual units **å¯è§†åŒ–æ•°æ®é›†/ç»Ÿè®¡é‡ä¸­çš„å•ä½ï¼ˆé€šå¸¸éœ€è¦æŒ‡å®šéœ€è¦æ˜ å°„çš„å€¼èŒƒå›´ï¼‰**ã€å¦‚é‡Œæ°éœ‡çº§->x pos, æµ·æ‹”->é¢œè‰², æ¡ä»¶æ•°-> ç‚¹å¤§å°ã€‘
  * **guide** å‚è€ƒ
    * **å¯è§†åŒ–reference**
    * è¡¨æ˜è¯¥mappingçš„ä½œç”¨ï¼ŒåŒ…æ‹¬è¯¥mappingçš„**scale & attribute**
    * åŒ…æ‹¬**è½´åˆ»åº¦æ ‡è®°ï¼ˆaxis tick marks ï¼‰ï¼Œæ ‡ç­¾ï¼ˆlabelsï¼‰ï¼Œé¢œè‰²å°ºåº¦ï¼ˆcolour scalesï¼‰ï¼Œå›¾ä¾‹(legends)ï¼Œç½‘æ ¼ï¼ˆgridï¼‰**
    * æè¿°åæ ‡ç³»(guide here acts as visual units) &mapping
* **Geom å‡ ä½•æ ‡è®°**
  * **æ•°æ®ç»è¿‡æ˜ å°„åçš„å‡ ä½•è¡¨ç¤º** the geometric representation of data after mapped
  * åŒ…æ‹¬
    * **ç‚¹point**(å¯èƒ½æœ‰å¤§å°ã€é¢œè‰²ã€å½¢çŠ¶)ã€
    * **çº¿æ¡lines**(å¯èƒ½æœ‰é¢œè‰²ã€ç ´æŠ˜å·æ ·å¼ã€ç²—ç»†)
    * **å—ï¼ˆpatches,ç®­å¤´ï¼Œæ­£æ–¹å½¢ï¼Œæ¤­åœ†ç­‰ï¼‰/å¤šè¾¹å½¢ï¼ˆpolygonsï¼‰**(å¯èƒ½æœ‰è®¸å¤šå±æ€§)
* **Coord åæ ‡ç³»**
  * **å®ƒå°†æ˜ å°„çš„æ•°æ®è¿æ¥åˆ°å¹³é¢ä¸Šçš„ç‚¹ä¸Šï¼ˆconnects mapped data onto points on the planeï¼‰æˆ–è¿æ¥åˆ°æ›´é«˜ç»´çš„åæ ‡(3D)**
  * geomsï¼ˆå‡ ä½•æ ‡è®°ï¼‰ & guidesï¼ˆå‚è€ƒï¼‰çš„ç©ºé—´å®šä¹‰å–å†³äºåæ ‡ç³»
* **Layer å›¾å±‚**
  * æ¯ä¸ªplotçš„**ä¸€ä¸ªå›¾å±‚**æ˜¯**ä¸€ç»„å‡ ä½•æ ‡è®°geoms**ï¼Œå¹¶ä¸”**ä¸€ä¸ªå›¾å±‚åœ¨ä¸€ä¸ªåæ ‡ç³»ä¸Šæœ‰ä¸€ä¸ªæ˜ å°„ï¼ˆmappingåŒ…æ‹¬scale & guide & data attributeså¯è§†åŒ–åæ•°æ®ï¼‰**
  * **å¤šä¸ªå›¾å±‚å¯ä»¥å åŠ åœ¨åŒä¸€ä¸ªåæ ‡ç³»ä¸Šï¼ˆmultiple layers may be overlaid on a single coordinate sysï¼‰**
  * ğŸŠä¾‹å¦‚ï¼ŒåŒä¸€ä¸ªæ•°æ®é›†çš„ä¸¤ä¸ªä¸åŒçš„ç»Ÿè®¡æ•°æ®å¯èƒ½ç»˜åˆ¶åœ¨åŒä¸€åæ ‡ç³»çš„ä¸åŒå›¾å±‚ä¸Š
* **Facetè§†å›¾**
  * **åŒä¸€ä¸ªæ•°æ®é›†ä¸Šçš„ä¸åŒè§†å›¾ï¼Œå¹¶ä¸”åœ¨å¦å¤–å•ç‹¬çš„åæ ‡ç³»ä¸Š(different view on the same dataset, on a separate coordinate system.)**
  * ä¾‹å¦‚ï¼Œä¸€ä¸ªå®éªŒçš„ä¸¤ä¸ªæ¡ä»¶å¯ä»¥ç»˜åˆ¶åœ¨ä¸¤ä¸ªä¸åŒçš„è§†å›¾ä¸Šï¼ˆä¸åŒåæ ‡ç³»ï¼‰ï¼Œ**æ¯ä¸ªè§†å›¾å¯ä»¥æœ‰å¤šä¸ªå›¾å±‚**
* **Figure å›¾è¡¨**
  * æœ€åå›¾è¡¨ï¼Œç”±**è§†å›¾faceté›†åˆï¼ˆ1ä¸ªæˆ–å¤šä¸ªè§†å›¾ï¼‰ç»„æˆ**
* **Caption æ ‡é¢˜**
  * æ¯ä¸ªå›¾è¡¨éƒ½æœ‰ä¸€ä¸ªæ ‡é¢˜ï¼Œå‘è¯»è€…è§£é‡Šå›¾å½¢çš„å¯è§†åŒ–æ•ˆæœ

### Figure & Caption

å›¾è¡¨ & æ ‡é¢˜

![](/static/2020-10-19-20-10-57.png)

* å›¾è¡¨figure
  * ç”±**ä¸€ä¸ªorå¤šä¸ªè§†å›¾facetsï¼ˆè¿ç»­å¯è§†åŒ–æ•°æ®ï¼‰**ç»„æˆ
  * <font color="red">æ¯ä¸ªfigureéƒ½éœ€è¦captionæ ‡é¢˜</font>

### Plotï¼šguides & geoms & coords

good scientific plots å›¾æ„æˆ

* proper use of the **guides** to **explain the mapping & coordinate system** æ­£ç¡®ä½¿ç”¨guideä¿¡æ¯æè¿°mapping&åæ ‡ç³»
* ä¸€ä¸ªå›¾**å¯èƒ½æœ‰**
  * **ç½‘æ ¼ grid**ï¼š å¸®åŠ©è¯»è€…å°†æ•°æ®ä¸åæ ‡è½´è¿›è¡Œæ’åˆ—ï¼ˆä¹Ÿå±äºguideçš„ä¸€ç§ï¼‰
  * **æ³¨è§£ annotations**ï¼š æŒ‡å‡ºç›¸å…³ç‰¹æ€§

ğŸŠ **guidesï¼ˆå¯è§†åŒ–referenceï¼‰**

* **Axes è½´ï¼ˆå¯åº”ç”¨unitsæ˜¾ç¤ºï¼‰**
  * è½´æ˜¯**ç”¨äºæè¿°åæ ‡ç³»**çš„guidesä¿¡æ¯
  * **tick åˆ»åº¦**
    * è¡¨ç¤ºè½´çš„ç»†åˆ†ï¼ˆä¸»åˆ»åº¦ï¼Œåˆ†åˆ»åº¦ï¼‰ï¼Œä»¥è¯¥è½´çš„æ ‡è®°å•ä½ä¸ºå•ä½

ğŸŠ **geoms å‡ ä½•æ ‡è®°**

![](/static/2020-10-19-20-41-26.png)

* ç”¨äºæ˜¾ç¤ºæ•°æ®ï¼ˆæ•°æ®ç»è¿‡æ˜ å°„åï¼Œå½¢æˆå›¾è¡¨çš„å‡ ä½•æ ‡è®°ï¼‰ã€‚è¿™äº›å‡ ä½•ä½“ä»£è¡¨è¦ç»˜åˆ¶çš„æ•°æ®ä¸­çš„æŸäº›å…ƒç´ 
  * **ç›´çº¿/æ›²çº¿** line/curves: ä»£è¡¨è¿ç»­å‡½æ•°çš„ç›´çº¿/æ›²çº¿ï¼Œ**å…·æœ‰é¢œè‰²ã€åšåº¦å’Œæ ·å¼**
  * **æ ‡è®°** markers: ä»£è¡¨ä¸è¿æ¥çš„ï¼Œç‹¬ç«‹çš„ç‚¹ã€‚æœ‰å¤§å°ï¼Œé¢œè‰²ï¼Œæ ·å¼
  * **å—** patchesï¼š**ç”¨é¢ç§¯è¡¨ç¤ºå½¢çŠ¶**ã€‚å¦‚æŸ±çŠ¶å›¾ä¸­çš„æ¯ä¸ªé•¿æ–¹å½¢ï¼Œå¯ä»¥æœ‰å…¶ä»–å½¢å¼ï¼ˆç®­å¤´ï¼Œæ­£æ–¹å½¢ï¼Œæ¤­åœ†....ï¼‰

## Common 2d plot types

å¸¸è§2Då›¾è¡¨

ğŸŠ scatterplot

![](/static/2020-10-19-21-03-23.png)
![](/static/2020-10-19-21-03-42.png)

* `plt.scatter(x,y)`
* geom: plot

ğŸŠ barchart

![](/static/2020-10-19-21-12-13.png)

* `plt.bar(x,y)`
* geom: patch

ğŸŠ line plot

![](/static/2020-10-19-21-13-05.png)

* `plt.plot(x,y)`
* geom: line
* contiguous scale

ğŸŠ marking measurements: combined using

![](/static/2020-10-19-21-17-16.png)

* `plt.plot(x,y, marker='d')`
* plot with 2 layers, sharing the same coords
* geoms: line & point(marker)
  * line - show trends
  * point - show measurement points

ğŸŠ **ribbon plots å¸¦çŠ¶å›¾**

![](/static/2020-10-19-21-24-47.png)

* `plt.fill_between(x, y, y*0)`
* **draw the area between 2 lines**
  * geoms: polygonå¤šè¾¹å½¢, å½¢æˆribbon plots
* ribbonå¯ä»¥æœ‰å˜é‡thicknessï¼ˆå¦‚y1-y2å·®å¼‚ï¼‰
* ä¾‹å­
  * æŸæ—¶é—´èŒƒå›´å†…ï¼Œå¯è¡Œçš„å¯ç»˜åˆ¶çš„æ—¶é—´ç‚¹é›†åˆ
* <font color="red">å¯çœ‹ä¸ºæ²¿xè½´ï¼Œå¯¹åº”å˜é‡çš„lineå‡ ä½•è¡¨ç¤º</font>

ğŸŠ layering geoms

![](/static/2020-10-19-21-26-46.png)
![](/static/2020-10-19-21-25-40.png)

* uncertainty representation example
  * ribbonï¼š è¿™é‡Œçš„å¸¦çŠ¶å›¾æ˜¾ç¤ºäº†ä¸€äº›ä¼¼ä¹åˆç†çš„å€¼ï¼Œæ¯”å¦‚æˆ‘çš„å®éªŒä»ªå™¨çš„å‡†ç¡®æ€§æˆ–è€…æ”¶é›†åˆ°çš„æ•°æ®( ribbon plot here is showing me abanda plausible values given say the accuracy of my experimental apparatus or the data that are collected)
* 3 layers
  * point
  * lines
  * ribbon

## Plotting data well example

![](/static/2020-10-19-21-42-22.png)

* è·å…°çŒªç‰™é½¿é•¿åº¦ & ä¸åŒdosesä½¿ç”¨ï¼ˆæ©™æ±ï¼Œç»´ä»–å‘½èƒ¶å›Šï¼‰

ğŸŠ bad plot

![](/static/2020-10-19-21-43-38.png)

* no guides
  * åæ ‡è½´
  * åˆ»åº¦
  * æ ‡ç­¾
  * å•ä½ï¼ˆæè¿°åæ ‡è½´ï¼‰
  * æ ‡é¢˜
  * å›¾ä¾‹
* bad coordsåæ ‡ç³»
  * xè½´è‡ªå˜é‡ï¼Œyè½´å› å˜é‡ï¼ˆä½†ç›¸åï¼Ÿï¼‰
* bad mapping
  * é¢œè‰²å•ä¸€
* bad geomså‡ ä½•æ ‡è®°
  * ä¸åº”ä½¿ç”¨linesï¼ˆå¯¹éè¿ç»­æ•°æ®é›†ä½¿ç”¨ï¼‰

ğŸŠ slightly better plot

![](/static/2020-10-19-21-47-57.png)

* guides
  * **axes & ticks åæ ‡è½´&åˆ»åº¦**
  * **å¯è§†åŒ–units**
  * no title
  * no legend
  * no labels(åæ ‡è½´æ ‡ç­¾)
* coords
  * **è‡ªå˜é‡xå› å˜é‡yè°ƒå¯¹äº†**
* geoms
  * å¯¹äºéè¿ç»­æ•°æ®é›†ä½¿ç”¨æ•£ç‚¹å›¾ï¼Œpoint geoms
* mapping
  * dataset columns(attributes) -> visual valuesä½¿ç”¨äº†ä¸åŒ**é¢œè‰²ï¼ˆä¸€ç§scaleXWï¼‰**ã€æ˜ å°„é€‰ä¸­çš„å±æ€§ï¼ˆå­—æ®µï¼‰->å¯è§†åŒ–å€¼ï¼ˆå¹¶é€šè¿‡scaleç»™ç‰¹å®šå±æ€§å¯è§†åŒ–å…¶å•ä½ï¼‰ã€‘

ğŸŠ better

![](/static/2020-10-19-21-52-33.png)

* guides
  * **title**
  * **axes are labeled(with description & units)**
  * **legendå›¾ä¾‹**
  * **grid**ï¼ˆä¾¿äºreadingï¼‰
  * xè½´åˆ»åº¦å¯è¡Œä½ç½®
  * yè½´å»¶ç”³

## Binning Operations

åˆ†ç»„æ“ä½œ

* **å°†æ•°æ®åˆ†æˆè‹¥å¹²ä¸ªç¦»æ•£çš„ç»„ groups/bins**
  * separate the data into numbered categories
* æœ‰åŠ©äºæ€»ç»“æ•°æ®ï¼Œ**å°¤å…¶æ˜¯è¿ç»­æ•°æ®** ï¼ˆsummarise data particularly for continuous dataï¼‰
  * **å¦‚æœè¿ç»­æ•°æ®ï¼Œç²¾ç¡®åº¦è¶³å¤Ÿé«˜ï¼Œæ¯ä¸ªè§‚æµ‹å€¼éƒ½ä¸åŒï¼ˆevery obesavations differ if measured precisely enoughï¼‰**(ä¾‹å¦‚ï¼Œä¸€ä¸ªéå¸¸ç²¾ç¡®çš„æ¸©åº¦è®¡æ€»æ˜¯æ˜¾ç¤ºå‡ºä¸æ˜¨å¤©åŒä¸€æ—¶é—´çš„ä¸åŒæ¸©åº¦

### Histograms: show distributions

ç›´æ–¹å›¾ï¼šåˆ†å¸ƒ

![](/static/2020-10-19-22-31-54.png)

* **ç›´æ–¹å›¾ç»“åˆåˆ†ç»„æ“ä½œï¼ˆstatçš„ä¸€ç§ï¼‰&2DæŸ±çŠ¶å›¾ï¼ˆbarsä¸ºå…¶geomså‡ ä½•æ ‡è®°ï¼‰**
  * å®ƒæ˜¾ç¤º**å±äºæŸä¸ªèŒƒå›´çš„å€¼è®¡æ•°(å°†æ•°æ®åˆ†ç»„ï¼Œè®¡æ•°æ¯ä¸ªç»„çš„æ•°æ®æ•°ï¼Ÿ)---æ•°æ®åˆ†å¸ƒ** separate data into bins/groups and count how many times the data fall into groups/bins, to show the distribution of data
* å¯ç”¨äº**å¯è§†åŒ–æ•°å€¼åˆ†å¸ƒ**

ğŸ¬ ç›´æ–¹å›¾çš„barsä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œå› ä¸ºæŸ±çŠ¶åŒºåŸŸè¡¨ç¤ºè¾“å…¥æ•°æ®å€¼çš„è¿ç»­åˆ’åˆ†ç©ºé—´

ğŸŠ ç›´æ–¹å›¾çš„ç»“æœåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ‰€é€‰çš„binsã€‚

* **å¤ªå¤šçš„bins**
  * ![](/static/2020-10-19-22-38-23.png)
  * æ„å‘³ç€**æ•°æ®åˆ†æ•£ï¼Œæ•´ä½“è¶‹åŠ¿æ¨¡ç³Š**
* **å¤ªå°‘çš„bins**
  * ![](/static/2020-10-19-22-39-51.png)
  * æ„å‘³ç€**æ•°æ®å¹³æ»‘ï¼Œç»†èŠ‚ä¸¢å¤±**

ğŸŠ åˆ†ç»„ä½ç½®ä¸æ­£ç¡®

![](/static/2020-10-19-22-52-50.png)

* å¾ˆå¤§ä¸€éƒ¨åˆ†æµªè´¹è½´ç©ºé—´ & ä¸èƒ½ç›´è§‚è·å–ä¿¡æ¯

ğŸŠ binsæ”¯æŒå¤šç»´

## Ranking Operation

æ’åºæ“ä½œ

![](/static/2020-10-19-22-59-18.png)
![](/static/2020-10-19-22-59-25.png)

* 1D vectorçš„å¦ä¸€ç§è§†å›¾
  * **sorted chart/rank plot**
  * æ•°ç»„ä¸­ä¸€ä¸ªå€¼ä¸å…¶æ’åºä¹‹é—´å½¢æˆçš„å›¾
* **value to rank operation --- stat**
  * rank against valueå›¾

## Aggregate Summaries

èšåˆ

* ä¸€ä¸ªç‰¹åˆ«å¸¸è§çš„staticsè½¬æ¢
  * **ç”¨æœ€å°/æœ€å¤§å€¼ã€æ ‡å‡†å·®æˆ–å››åˆ†å·®ï¼ˆinterquartile rangeï¼‰è¡¨ç¤ºæ•°æ®åˆ†ç»„èŒƒå›´ã€ranges of groupings of dataã€‘**ã€‚(ä¾‹å¦‚å®éªŒçš„æ¡ä»¶)
* reduce some data down into some summary

ğŸŠ ä¸‹é¢çš„å›¾è¡¨æ˜¾ç¤ºäº†å¤©ç„¶æ°”æ•°æ®ï¼Œç”¨ä¸‰ä¸ªä¸åŒçš„staticsæ€»ç»“äº†å››åˆ†ä¹‹ä¸€çš„å¤©ç„¶æ°”æ•°æ®(ç»Ÿè®¡é‡->æ•°æ®åˆ†ç»„çš„èŒƒå›´ï¼Œæ¯å¹´ä¸ºbins):

![](/static/2020-10-19-23-06-32.png)

* å¹³å‡å€¼å’Œæ ‡å‡†å·®
  * ç®—æœ¯å¹³å‡å€¼line
  * æ ‡å‡†å·®ribbon
* æœ€å°å€¼ã€æœ€å¤§å€¼å’Œç®—æœ¯å¹³å‡å€¼
  * maxï¼Œmin ribbon
  * ç®—æœ¯å¹³å‡å€¼line
* ä¸­ä½æ•°åŠå››åˆ†å·®
  * median - 50%data
  * interquartile range - 25%ï¼Œ75%data
  * **å¯ä»¥ç”¨box plotç®±å‹å›¾ç»˜åˆ¶**

### Box Plot

> ç”¨ä½œ**æ˜¾ç¤ºä¸€ç»„æ•°æ®åˆ†æ•£æƒ…å†µèµ„æ–™çš„ç»Ÿè®¡å›¾**
>
> å®ƒä¸»è¦ç”¨äº**åæ˜ åŸå§‹æ•°æ®åˆ†å¸ƒçš„ç‰¹å¾**ï¼Œè¿˜å¯ä»¥**è¿›è¡Œå¤šç»„æ•°æ®åˆ†å¸ƒç‰¹å¾çš„æ¯”è¾ƒ**
>
> ç®±çº¿å›¾çš„ç»˜åˆ¶æ–¹æ³•æ˜¯ï¼šå…ˆæ‰¾å‡ºä¸€ç»„æ•°æ®çš„ä¸Šè¾¹ç¼˜ã€ä¸‹è¾¹ç¼˜ã€ä¸­ä½æ•°å’Œä¸¤ä¸ªå››åˆ†ä½æ•°ï¼›ç„¶åï¼Œè¿æ¥ä¸¤ä¸ªå››åˆ†ä½æ•°ç”»å‡ºç®±ä½“ï¼›å†å°†ä¸Šè¾¹ç¼˜å’Œä¸‹è¾¹ç¼˜ä¸ç®±ä½“ç›¸è¿æ¥ï¼Œä¸­ä½æ•°åœ¨ç®±ä½“ä¸­é—´

ç®±å½¢å›¾

* æ˜¯ä¸€ç»„æ•°æ®çš„å¯è§†åŒ–æ‘˜è¦visual summary
* **è®¡ç®—ä¸€ä¸ªæ•°æ®é›†çš„å¤šä¸ªç»Ÿè®¡æ•°æ®ï¼Œé€šè¿‡ä¸€ä¸ªå•ç‹¬çš„geomå‡ ä½•æ ‡è®°ï¼ˆå¤šä¸ªç»„æˆæ ‡è®°ï¼‰è¡¨ç¤ºè¿™äº›ç»Ÿè®¡é‡** computes multiple stats of a dataset, and shows them in a single geom which has several components
* å¯ä»¥ç”¨æ¥**æ¯”è¾ƒ**å€¼çš„**åˆ†å¸ƒ**

ğŸŠ ç®±å½¢å›¾ç›¸å…³ç»Ÿè®¡é‡

![](/static/2020-10-19-23-45-11.png)

* **å››åˆ†å·® interquartile range**
  * **ç®±ä½“**ï¼Œrange between `25%-75%`per centiles of the dataset (æ•°æ®é›†**75% åˆ°25%**ç™¾åˆ†ä½æ•°çš„èŒƒå›´)
  * æŠŠæ•°æ®æ’åºåï¼Œå–1/4-25%,3/4-75%
* **ä¸­é—´å€¼ median**
  * æ°´å¹³ç›´çº¿
* **æå€¼ extrema**
  * å¯èƒ½å› ç‰¹å®šå›¾è€Œå¼‚ï¼Œä½†é€šå¸¸ä»£è¡¨**2.5%å’Œ98.5%**çš„ç™¾åˆ†ä½æ•°(**å³95% çš„èŒƒå›´)**ã€‚
  * ä¸Šæå€¼ï¼Œä¸‹æå€¼ï¼Œæ°´å¹³çº¿
* **ç¦»ç¾¤å€¼(outliers)**
  * åå­—æˆ–åœ†åœˆæ ‡è®°
  * **æ‰€æœ‰åœ¨æå€¼ä¹‹å¤–çš„æ•°æ®é›†ç‚¹** very far away of the data

ğŸŠ ç”¨äºæ¯”è¾ƒ

![](/static/2020-10-19-23-50-51.png)

* è¿›è¡Œ**å¤šç»„æ•°æ®åˆ†å¸ƒç‰¹å¾**çš„**æ¯”è¾ƒ**
  * ç”¨äºsummarize dataå®ç”¨
* å°†æ•°æ®åˆ†ç»„ & æ¯”è¾ƒå®ƒä»¬ï¼Œé€šè¿‡ç®±å½¢å›¾å¯ä»¥ç›´è§‚çœ‹å‡ºæ•°æ®ç»„çš„åˆ†å¸ƒ&ç›¸åº”ç»Ÿè®¡é‡

## Regression & Smoothing

å›å½’ regression

![](/static/2020-10-19-23-58-32.png)

* å›å½’æ¶‰åŠåˆ°æ‰¾åˆ°**ä¸€äº›æ•°æ®çš„è¿‘ä¼¼å‡½æ•°**
  * **é€šå¸¸æ˜¯åœ¨æŸäº›æ–¹é¢æ›´ç®€å•çš„å‡½æ•°**ï¼Œsimplify the data by finding some approximate functions
  * æœ€ä¸ºäººç†ŸçŸ¥çš„æ˜¯**çº¿æ€§å›å½’**ï¼Œå°†æ•°æ®æ‹Ÿåˆæˆä¸€æ¡ç›´çº¿ã€‚
* `ğ‘“(ğ‘¥)=ğ‘šğ‘¥+ğ‘, ğ‘“(ğ‘¥)â‰ˆğ‘¦`

è¿™é‡Œæˆ‘ä»¬ä¸ä¼šæ·±å…¥è®¨è®ºè¿™äº›æ‹Ÿåˆæ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯æå‡ºå‡è®¾çš„ä¸€ä¸ªé‡è¦ç»Ÿè®¡ç±»åˆ«ï¼Œä¹Ÿè®¸å¯ä»¥è§£é‡Šæ•°æ®

### Smoothing

æˆ‘ä»¬åœ¨å‰é¢çš„å¤©ç„¶æ°”ä¾‹å­ä¸­çœ‹åˆ°çš„ï¼Œé€šè¿‡åˆ é™¤æ•°å€¼ä¸­çš„fast changesä½¿ç§»åŠ¨å¹³å‡çº¿æ›´å¹³æ»‘ï¼Œæ‰¾åˆ°äº†æ•°æ®çš„â€œç®€åŒ–â€ç‰ˆæœ¬ã€‚

å¹³æ»‘æ•°æ®æœ‰è®¸å¤šæ–¹æ³•ï¼Œæ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æš—ç¤ºç€å¯¹æ•°æ®åº”è¯¥å¦‚ä½•è¿è¡Œçš„ä¸€äº›å‡è®¾ã€‚è‰¯å¥½çš„æ•°æ®å¹³æ»‘æ­ç¤ºäº†è¯»è€…æ„Ÿå…´è¶£çš„å±æ€§ï¼Œæ¨¡ç³Šäº†ä¸ç›¸å…³çš„ç»†èŠ‚

## Geoms

å‡ ä½•æ ‡è®°

### Markers

markers

![](/static/2020-10-20-00-19-21.png)
![](/static/2020-10-20-00-19-50.png)

* ç”¨äºè¡¨ç¤ºåæ ‡ç³»ä¸­**è£¸ç‚¹ï¼ˆbare pointsï¼‰**çš„geoms
  * åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬å®é™…ä¸Š**åªæ˜¯å›¾è¡¨ä¸Šæ ‡è®°çš„ç‚¹**; **ç„¶è€Œï¼Œå®ƒä»¬é€šå¸¸ä¼ é€’æ›´å¤šçš„ä¿¡æ¯**

ğŸŠmarkerå…¶ä»–é‡è¦ç”¨é€”

* layer identificationå›¾å±‚åŒºåˆ†
  * ï¼ˆ**æ¯ä¸ªå›¾å±‚çš„marker geomå¯è°ƒæ•´å½¢çŠ¶&é¢œè‰²ç”¨äºåŒºåˆ†ã€è€ƒè™‘åˆ°è‰²ç›²ï¼Œæœ€ä½³å®è·µæ˜¯åŒæ—¶è°ƒæ•´å½¢çŠ¶&é¢œè‰²ã€‘**ï¼‰
* scalar attributesæ ‡é‡å±æ€§
  * ![](/static/2020-10-20-00-24-43.png)
  * ![](/static/2020-10-20-00-26-05.png)
  * ![](/static/2020-10-20-00-26-20.png)
  * markersä¹Ÿå¯ç”¨äº**åŒºåˆ†ç¬¬ä¸‰orç¬¬å››æ ‡é‡å±æ€§ï¼ˆè€Œä¸æ˜¯xï¼Œyï¼Œæˆ–æ•°æ®é›†ï¼‰**ï¼Œé€šè¿‡æ”¹å˜å…¶ç‚¹å¤§å°ï¼ˆsize scaleï¼‰ï¼Œç‚¹é¢œè‰²ï¼ˆcolor scaleï¼‰ç­‰ï¼Œæœ€åå†ä¸ºè¿™äº›scaleåŠ ä¸Šlegendï¼ˆguideï¼‰

### color map

æ ‡è®°markersçš„ç€è‰²æ˜¯é€šè¿‡**é¢œè‰²è¡¨ï¼ˆcolor mapï¼‰**å®Œæˆçš„ï¼Œ

* å®ƒå°†**æ ‡é‡å€¼æ˜ å°„ä¸ºé¢œè‰²**
* å§‹ç»ˆæä¾›ä¸€ä¸ª**å½©è‰²æ¡ï¼ˆcolor barï¼‰**
  * **æ˜¾ç¤ºå€¼åˆ°é¢œè‰²çš„æ˜ å°„(mapping: data value->color), aesthetic mapping beyond 2D coords system**

#### Unsigned Scalar

è¯•éªŒåŠ£è´¨çš„è‰²å½©æ˜ å°„äº§ç”Ÿçš„å¯¹æ¯”å¤±çœŸ

* https://predictablynoisy.com/makeitpop-intro/

æ— ç¬¦å·æ ‡é‡

* **å¦‚æœè¦è¡¨ç¤ºçš„æ•°æ®æ˜¯æ­£æ ‡é‡ positive scalar**(ä¾‹å¦‚äººçš„èº«é«˜)
  * ä½¿ç”¨**äº®åº¦å•è°ƒå˜åŒ–çš„é¢œè‰²è¡¨ a colour map with monotonically varying brightness**
  * è¿™æ„å‘³ç€ï¼Œ**éšç€å±æ€§çš„å¢åŠ **ï¼Œé¢œè‰²è¡¨åº”è¯¥æŒç»­å˜æµ…æˆ–å˜æš—
* **å•è°ƒäº®åº¦monotonic brightness**
  * **å¢åŠ æ•°æ®å€¼**æ€»æ˜¯å¯¼è‡´**è§†è§‰äº®åº¦å¢åŠ **
* **æ„ŸçŸ¥ä¸Šä¸€è‡´perceptually uniform**
  * æ¯ä¸ªdata change unit&äº®åº¦å¢åŠ ä¸€è‡´ï¼Œæˆæ¯”ä¾‹
  * easy to distinguishï¼Œ less strides æ˜“åˆ†è¾¨ä¸åŒçº§åˆ«æ•°æ®&é¢œè‰²è·¨åº¦ä¸èƒ½å¤ªçªç„¶

ğŸŠ ä¾‹å­

![](/static/2020-10-20-00-49-23.png)
![](/static/2020-10-20-00-49-32.png)
![](/static/2020-10-20-00-50-04.png)
![](/static/2020-10-20-00-50-30.png)
![](/static/2020-10-20-00-51-19.png)

#### Signed Scalar

ç¬¦å·æ ‡é‡

å¦‚æœä½ çš„æ•°æ®æ˜¯æœ‰ç¬¦å·çš„(ç¬¦å·å¾ˆé‡è¦)

* ä½¿ç”¨ä¸€ä¸ªé¢œè‰²è¡¨ï¼Œå®ƒåœ¨0å·¦å³å‘æ•£ï¼Œå¹¶ä¸”åœ¨0çš„ä¸¤è¾¹äº®åº¦éƒ½æ˜¯å•è°ƒçš„ a colour map diverges around 0 and is monotonic in brightness in each side of 0

ğŸŠ ä¾‹å­

![](/static/2020-10-20-00-56-21.png)
![](/static/2020-10-20-00-58-19.png)

* 0ç‚¹é¢œè‰²ä¸å¤Ÿä¸­æ€§ï¼Œéš¾ä»¥åˆ†è¾¨>0,<0ç‚¹çš„é¢œè‰²

### Lines

**ç›´çº¿æ˜¯å°†ç‚¹è¿æ¥åœ¨ä¸€èµ·**çš„å‡ ä½•æ ‡è®°ã€‚

* å¦‚æœè¯¢é—®ä¸¤ä¸ªæ•°æ®ç‚¹ä¹‹é—´çš„æ„ä¹‰ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨ç›´çº¿;
  * ä¾‹å¦‚ï¼Œå¦‚æœ**å­˜åœ¨ä¸€ä¸ªè¿ç»­çš„å€¼**ã€‚å¦‚æœæœ‰ä¸¤ä¸ªæœ‰åºæ•°ç»„è¡¨ç¤ºæ¥è‡ªè¿ç»­å‡½æ•°çš„æ ·æœ¬ï¼Œé‚£ä¹ˆè¿™æ˜¯æœ‰æ„ä¹‰çš„ï¼Œåº”è¯¥ä½¿ç”¨line

ğŸŠ Linestyles

![](/static/2020-10-20-01-30-56.png)
![](/static/2020-10-20-01-31-04.png)

* çº¿å‡ ä½•æ ‡è®°ï¼š å¯ä»¥æœ‰**ä¸åŒçš„åšåº¦å’Œä¸åŒçš„é¢œè‰²**
  * å¯ä¸ºç ´æŠ˜çº¿
  * éœ€è¦è€ƒè™‘æ˜¯å¦åˆ©äºè‰²ç›²è¯»è€…ï¼Œæ˜¯å¦å¯æä¾›å½©è‰²å°åˆ·ã€è€ƒè™‘ç»“åˆä½¿ç”¨ä¸åŒåšåº¦&é¢œè‰²ï¼Œåˆ©äºåˆ†è¾¨ã€‘

#### Staircase/step & bar charts

ğŸŠ staircase(stepå›¾)

![](/static/2020-10-20-01-34-08.png)
![](/static/2020-10-20-01-34-57.png)

* åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç”¨ç›´çº¿è¿æ¥ç‚¹æ˜¯æœ‰æ„ä¹‰çš„(å› ä¸ºå®ƒä»¬å½¢æˆäº†ä¸€ä¸ªè¿ç»­çš„åºåˆ—) ï¼Œ**ä½†æ˜¯æˆ‘ä»¬çŸ¥é“è¿™ä¸ªå€¼ä¸èƒ½åœ¨ä¸åŒçš„æµ‹é‡å€¼ä¹‹é—´æ”¹å˜ï¼ˆthe value cannot have changed between measurementsï¼‰**ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸ªæ·ç¡¬å¸å®éªŒçš„æ¨¡æ‹Ÿï¼Œç»˜åˆ¶å‡ºæ‰€è§æ­£é¢çš„ç´¯ç§¯æ€»å’Œ
* éœ€è¦**ä½¿ç”¨staircase/stepå›¾**
  * **å°†ç‚¹ä¸ç›´çº¿è¿æ¥èµ·æ¥ï¼Œä½†æ˜¯åœ¨è§‚å¯Ÿåˆ°æ–°çš„æ•°æ®ç‚¹ä¹‹å‰ä¿æŒå€¼ä¸å˜ï¼Œè€Œä¸æ˜¯åœ¨ä¸¤è€…ä¹‹é—´è¿›è¡Œçº¿æ€§æ’å€¼ï¼ˆkeeping the value fixed until a new data point is observed, rather than linearly interpolating in between**

ğŸŠ bar

* å¦‚æœ x çš„æµ‹é‡æ˜¯**è‡ªç„¶ç¦»æ•£çš„(naturally discrete)**(ä¾‹å¦‚ä¸€å‘¨ä¸­çš„å¤©æ•°ï¼Œå®éªŒä¸­çš„æ¡ä»¶) ï¼Œé‚£ä¹ˆæŸ±çŠ¶å›¾å¯èƒ½æ˜¯åˆé€‚çš„
  * ä¾‹å¦‚ï¼Œä¸Šä¸€ä¸ªä¾‹å­ä¸­çš„å­£åº¦æœ€å°å’Œæœ€å¤§æ°”ä½“æ•°æ®ï¼Œæ¯å‘¨é™é›¨é‡ã€‚è¿™äº›å¯ä»¥ä½¿ç”¨æŸ±çŠ¶å›¾
* ![](/static/2020-10-20-01-40-28.png)
  * è¯¥ä¾‹ä½¿ç”¨æŠ˜çº¿å›¾æ›´ç›´è§‚ï¼Œå› ä¸ºaxisçš„unitï¼ˆæœ€ä¸‹é¢æ•°å€¼ï¼‰æœ‰äº›éš¾ä»¥åˆ†è¾¨

### Alpha & transparency

ä¸é€æ˜åº¦alpha/opacity vs transparencyé€æ˜åº¦

![](/static/2020-10-20-01-47-58.png)
![](/static/2020-10-20-01-48-09.png)
![](/static/2020-10-20-01-48-33.png)

* å¯ä»¥ä½¿ç”¨**ä¸åŒçš„é€æ˜åº¦æ¸²æŸ“ Geoms**
  * è¿™æ ·åˆ†å±‚çš„ Geoms å°±å¯ä»¥æ˜¾ç¤ºå‡ºæ¥
  * **è¿™åœ¨ç»˜åˆ¶å¤§é‡é‡å çš„geoms**(ä¾‹å¦‚åœ¨ç¨ å¯†çš„æ•£ç‚¹å›¾ä¸Š)æˆ–**å¼ºè°ƒ/å»å¼ºè°ƒæŸäº›geoms(ä¾‹å¦‚çº¿æ¡ç²—ç»†)**æ—¶å¾ˆæœ‰ç”¨

ğŸ¬ é€æ˜åº¦çš„ä½¿ç”¨åº”è¯¥æ…é‡; ä¸€ä¸ªæœ‰è®¸å¤šé€æ˜å±‚çš„å›¾å¯èƒ½å¾ˆéš¾ç†è§£ï¼Œä½†å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªæä¾›è§†è§‰å¼ºè°ƒçš„éå¸¸æœ‰æ•ˆæ–¹å¼

## Coords

åæ ‡ç³»

![](/static/2020-10-20-01-56-33.png)

* å‡è®¾mapping(data->å¯è§†åŒ–æ•°æ®)æ˜¯æ¯ä¸ªç‹¬ç«‹æ•°æ®ç»´åº¦ x å’Œ y åˆ°ç”±ä¸€ç»„**è½´é™å®šä¹‰ axis limit**çš„ç¬›å¡å°”åæ ‡æ¡†æ¶çš„çº¿æ€§æ˜ å°„
  * **åæ ‡è½´é™åˆ¶ä»¥æ•°æ®å•ä½æŒ‡å®šèŒƒå›´**(ä¾‹å¦‚0è‡³500megatherms) ï¼Œç„¶å**æ•°æ®å•ä½æ˜ å°„åˆ°å›¾ä¸­çš„å¯ç”¨ç©ºé—´(åŸºäºè§†è§‰å•ä½)**(ä¾‹å¦‚8å˜ç±³æˆ–800px)ã€‚
  * ä¾‹å¦‚ï¼Œåœ¨ matplotlib ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå›¾å½¢æ—¶ä½¿ç”¨ `figsize`æ§åˆ¶å›¾å½¢çš„è§†è§‰å•ä½(é»˜è®¤æƒ…å†µä¸‹ï¼Œä»¥è‹±å¯¸ä¸ºå•ä½)
* è½´çº¿å°†è·¨è¶Šè¿™ä¸ªå›¾å½¢çš„ä¸€éƒ¨åˆ†ï¼Œè¿™äº›å®šä¹‰äº†å¯è§†åŒ–çš„åæ ‡ç³»
  * `ax.set_xlim ()`å’Œ `ax.set_ylim ()`æŒ‡å®šæ˜ å°„åˆ°çš„æ•°æ®å•ä½èŒƒå›´ã€åæ ‡è½´é™åˆ¶ã€‘

### Aspect Ratio

çºµæ¨ªæ¯”

![](/static/2020-10-20-01-59-10.png)

* åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè§†è§‰æ•ˆæœçš„çºµæ¨ªæ¯”æ˜¯å¾ˆé‡è¦çš„
  * ä¾‹å¦‚ï¼Œå›¾åƒåœ¨æ˜¾ç¤ºæ—¶ç»ä¸åº”è¯¥è¢«æ‹‰ä¼¸æˆ–å‹ç¼©ã€‚
  * å·¦å›¾ä¸­ï¼Œå½¢çŠ¶æ˜¯åœ†å½¢çš„ï¼Œä½†çœ‹èµ·æ¥æ˜¯æ¤­åœ†å½¢çš„
* **é»˜è®¤coordåæ ‡ç³»çš„çºµæ¨ªæ¯”å°†ç”±å›¾å½¢çš„å¤§å° & ä¸“é—¨ç”¨äºæ¬¡è¦å›¾å½¢çš„å›¾å½¢çš„éƒ¨åˆ†æ¥å®šä¹‰**
  * å¯ä½¿ç”¨`set_aspect()`æ‰‹åŠ¨è°ƒæ•´ï¼Œä»¥è¿«ä½¿å¯è§†å•å…ƒè·¨è¶Šç›¸ç­‰çš„æ•°æ®å•å…ƒ

### Log Scales

æ™®é€šåæ ‡ç³»

* åŒ…å«åˆ°2då¹³é¢ä¸Šçš„æŠ•å½±ï¼Œå¯èƒ½åŒ…å«æåæ ‡ã€å¯¹æ•°åæ ‡æˆ–3dé€è§†æŠ•å½±ç­‰å˜æ¢
  * åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªçœ‹åˆ°**çº¿æ€§ç¬›å¡å°”åæ ‡ linear Cartesian coordinates**ï¼Œè¿™æ˜¯éå¸¸ç®€å•çš„æŠ•å½±ã€‚**ä½†æ˜¯è¿˜æœ‰å…¶ä»–ä¸€äº›æŠ•å½±å¯ä»¥ç”¨æ¥æ­ç¤ºç‰¹å®šç±»å‹æ•°æ®é›†çš„ç»“æ„**

ğŸŠ log scale å¯¹æ•°åˆ»åº¦/å°ºåº¦

![](/static/2020-10-20-02-08-26.png)
![](/static/2020-10-20-02-08-37.png)

* æœ‰æ—¶ï¼Œçº¿æ€§å°ºåº¦å¹¶ä¸æ˜¯æ˜¾ç¤ºæ•°æ®çš„æœ‰æ•ˆæ–¹å¼ã€‚**å½“æ•°æ®é›†å…·æœ‰éå¸¸å¤§çš„è·¨åº¦æ—¶ï¼ˆlarge spans of magnitudeï¼‰**
  * ä½¿ç”¨**å¯¹æ•°åæ ‡ç³»ï¼ˆlogarithmic coordinate system with log scaleï¼‰**
* å¯ä»¥åœ¨**x/yè½´ä¸Šä½¿ç”¨å¯¹æ•°åˆ»åº¦ï¼Œä¹Ÿå¯ä»¥ä¸¤è€…éƒ½ä½¿ç”¨**
  * **å–å†³äºå“ªä¸ªå˜é‡å…·æœ‰è¾ƒå¤§çš„å¹…åº¦è·¨åº¦**
* å¦‚æœè¿™ä¸ªå›¾æ˜¯ log in y onlyï¼Œé‚£ä¹ˆè¿™ä¸ªå›¾è¢«ç§°ä¸ºâ€œ semilog yâ€
* å¦‚æœæ˜¯ x onlyï¼Œåˆ™ä¸ºâ€œ semilog xâ€
* å¦‚æœä¸¤ä¸ªè½´ä¸Šéƒ½æœ‰å¯¹æ•°â€œ log-logâ€

ğŸ¬ åœ¨ matplotlib ä¸­ï¼Œ`set_xscale/set_yscale` å¯ç”¨äºåœ¨æ¯ä¸ªè½´ä¸Šè¿›è¡Œ**çº¿æ€§å’Œå¯¹æ•°åˆ»åº¦å˜æ¢**

* (æ—æ³¨: è¿˜æœ‰ä¸€äº›å‘½ä»¤ `semiloxxã€ semilogy` å’Œ `loglog`ï¼Œè¿™äº›å‘½ä»¤åªæ˜¯ç”¨äºåˆé€‚çš„æ¯”ä¾‹å˜åŒ–çš„å›¾çš„åˆ«å)

#### Polynomial or power-law relationship

å¤šé¡¹å¼æˆ–å¹‚å¾‹å…³ç³»

![](/static/2020-10-20-02-12-28.png)

å½“å˜é‡ä¹‹é—´å­˜åœ¨å¤šé¡¹å¼å…³ç³»(ä¾‹å¦‚ y = x^2æˆ– y = x^13)æ—¶ï¼Œ

* å¯¹æ•°å¯¹æ•°åˆ»åº¦(x è½´å’Œ y è½´ä¸Šçš„å¯¹æ•°)éå¸¸æœ‰ç”¨
* å…³ç³»å°†åœ¨`log-log`å›¾ä¸Šæ˜¾ç¤ºä¸ºä¸€æ¡ç›´çº¿

#### Negative numbers

è¯·æ³¨æ„ï¼Œlog åˆ»åº¦æœ‰ä¸€ä¸ªç¼ºç‚¹: **è´Ÿæ•°çš„ log æ²¡æœ‰å®šä¹‰**ï¼Œäº‹å®ä¸Šå¯¹æ•°å‘æ•£åŒºé—´åˆ°-infinityæ—¶ä¸º0

![](/static/2020-10-20-02-15-51.png)
![](/static/2020-10-20-02-18-19.png)
![](/static/2020-10-20-02-18-47.png)

* è¿™æ„å‘³ç€**signed data**ä¸é€‚åˆå¯¹æ•°å°ºåº¦(è‡³å°‘å¦‚æœç¬¦å·æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå¹¶ä¸”ä¸èƒ½é€šè¿‡å¢åŠ ä¸€ä¸ªå¸¸æ•°å°±ç§»åŠ¨åˆ°ä¸€ä¸ªæ­£æ•°)
* negative è¢«cut off

ğŸŠ semilog

![](/static/2020-10-20-02-18-56.png)

* symmetric log scale above the band
* ä¸­é—´æœ‰ä¸€ä¸ªband ä½¿ç”¨linear scale

## Facets & Layers

åœ¨å•ä¸€çš„å¯è§†åŒ–åæ ‡ç³»ä¸­ï¼Œä½¿ç”¨å¤šä¸ªgeoms

![](/static/2020-10-20-02-28-42.png)

* ä¸åŒçš„å±‚æ¬¡å åŠ åœ¨åŒä¸€åæ ‡ç³»ä¸Š as distinct layers superimposed on the same set of coords
* ä¸åŒfacetsè§†å›¾åœ¨ä¸åŒåæ ‡è½´ä¸Š
  * ä¸åŒè§†å›¾çš„scale & guideä¹Ÿä¸åŒ

### Layers

ğŸŠ å›¾å±‚

![](/static/2020-10-20-02-32-20.png)
![](/static/2020-10-20-02-33-45.png)

* å½“æ•°æ®é›†ä¸Šçš„**ä¸¤ä¸ªæˆ–å¤šä¸ªè§†å›¾å¯†åˆ‡ç›¸å…³ï¼Œä¸”æ•°æ®æ˜ å°„ä½äºåŒä¸€åæ ‡ç³»æ—¶**ï¼Œå¯ä»¥ä½¿ç”¨åˆ†å±‚
  * ä¾‹å¦‚ï¼Œå†å²å°éº¦ä»·æ ¼æ•°æ®å¯ä»¥æœ‰æ•ˆåœ°æ˜¾ç¤ºä¸ºä¸€ä¸ªåˆ†å±‚å›¾ï¼ˆç›¸åŒåæ ‡ç³»ï¼‰ã€‚å›¾ä¾‹æ˜¯åŒºåˆ†ä¸åŒå±‚æ¬¡çš„guide
  * å¦‚æœä½¿ç”¨äº†**å¤šä¸ªå›¾å±‚ï¼Œåˆ™åº”è¯¥(å‡ ä¹)å§‹ç»ˆæ˜¾ç¤ºä¸€ä¸ªå›¾ä¾‹**ï¼Œä»¥æŒ‡ç¤ºå“ªä¸ª geom(å›¾ä¾‹è¡¨ç¤ºï¼Œç‚¹/çº¿/å—)ä¸å“ªä¸ªæ•°æ®é›†å±æ€§ç›¸å…³

![](/static/2020-10-20-02-34-45.png)

* å¶å°”ä½ ä¼šçœ‹åˆ°åŒ y è½´çš„å¯è§†åŒ–æ•ˆæœ
  * æ˜¯åˆ†å±‚å›¾ï¼Œå®ƒæœ‰å…±åŒçš„ x æ˜ å°„ï¼Œä½†ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„ y æ˜ å°„â€”â€”ä¸¤ä¸ª(ç•¥å¾®)ä¸åŒçš„åæ ‡åˆ†å±‚ã€‚
  * è¿™ç§å½¢è±¡åŒ–çš„é£æ ¼åº”è¯¥é¿å…ï¼Œå› ä¸ºå®ƒå¯èƒ½å¾ˆéš¾è§£é‡Šå’Œè¯¯å¯¼è¯»è€…

### Facets

è§†å›¾

![](/static/2020-10-20-02-37-04.png)
![](/static/2020-10-20-02-37-26.png)

* åˆ†ç¦»åæ ‡ç³»æ¥æ˜¾ç¤ºæ•°æ®é›†çš„ä¸åŒè§†å›¾
* è§†å›¾ä¸éœ€è¦æ˜¾ç¤ºç›¸åŒçš„æ•°æ®ç¼©æ”¾æˆ–èŒƒå›´ã€‚
  * <font color="red">ä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªæ–¹é¢æ˜¾ç¤ºç›¸åŒçš„å±æ€§(ä¾‹å¦‚ä¸¤ä¸ªè§†å›¾æ˜¾ç¤ºshilingså±æ€§) ï¼Œå®ƒä»¬åº”è¯¥å°½å¯èƒ½é‡‡ç”¨ç›¸åŒçš„ç¼©æ”¾æ¯”ä¾‹ï¼Œä»¥ä¾¿äºæ¯”è¾ƒ</font>

## Communicating Uncertainty

æ•°æ®é€šå¸¸æ˜¯ä»æœ‰è§‚æµ‹è¯¯å·®çš„æµ‹é‡ä¸­æ”¶é›†çš„ï¼Œå› æ­¤æ‰€è·å¾—çš„å€¼æ˜¯çœŸå®å€¼çš„è¯¯å·®ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼Œæ¸©åº¦è®¡ä¸Šçš„è¯»æ•°å¹¶ä¸æ˜¯ç©ºæ°”çš„çœŸå®æ¸©åº¦ã€‚

å…¶ä»–æƒ…å†µå¯èƒ½å¼•èµ·å…¶ä»–è¯¯å·®æ¥æº; ä¾‹å¦‚ï¼Œæ•°å€¼æ¨¡æ‹Ÿä¸­çš„èˆå…¥è¯¯å·®; æˆ–è€…åœ¨æ­£ç¡®é€‰æ‹©æ•°å­¦æ¨¡å‹æˆ–ç”¨äºå»ºæ¨¡æ•°æ®çš„å‚æ•°æ–¹é¢çš„ä¸ç¡®å®šæ€§ã€‚

**è¿™äº›å¿…é¡»è¡¨æ˜ï¼Œä»¥ä¾¿è¯»è€…èƒ½å¤Ÿç†è§£æ‰€æ¶‰åŠçš„ä¸ç¡®å®šæ€§ï¼Œè€Œä¸æ˜¯ä½œå‡ºæ²¡æœ‰è¯æ®æ”¯æŒçš„åˆ¤æ–­**

### Error Bars

![](/static/2020-10-20-02-41-24.png)
![](/static/2020-10-20-02-52-32.png)

ğŸŠ error bar choice

* æ ‡å‡†å·® standard deviation
* æ ‡å‡†è¯¯å·® standard error
* ç½®ä¿¡åŒºé—´(ä¾‹å¦‚95%) confidence intervals
* éå‚æ•°åŒºé—´ nonparametric intervals
  * å¦‚å››åˆ†ä½æ•°èŒƒå›´ interquartile ranges

æ— è®ºä½¿ç”¨å“ªä¸€ç§ï¼Œéƒ½åº”è¯¥åœ¨å›¾ä¸­æ¸…æ¥šåœ°è¯´æ˜è¯¯å·®çº¿çš„å«ä¹‰ã€‚æ²¡æœ‰é€šç”¨çš„æ ‡å‡†ï¼Œå¿…é¡»åœ¨å›¾ä¸­æˆ–è€…ç›¸åº”çš„æ ‡é¢˜ä¸­æ ‡æ³¨

#### Box Plot1

å¯¹äºè¿™ç§ç±»å‹çš„å›¾ï¼Œä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨ ç®±å½¢å›¾ï¼Œæ­£å¦‚æˆ‘ä»¬å‰é¢çœ‹åˆ°çš„ã€‚è¿™æ¸…æ¥šåœ°è¡¨æ˜äº†ä»¥éå¸¸ç´§å‡‘çš„å½¢å¼é‡åˆ°çš„å€¼çš„ä¼ æ’­

![](/static/2020-10-20-15-09-26.png)
![](/static/2020-10-20-15-09-45.png)

#### Dot Plot

å¦ä¸€ç§æ–¹æ³•æ˜¯è½»å¾®åœ°æŠ–åŠ¨ x è½´ä¸Šçš„ç‚¹
![](/static/2020-10-20-15-10-30.png)
![](/static/2020-10-20-15-11-13.png)

* This is especially effective with larger amounts of data

## Lab

### Figures: æ–°å»ºç”»å¸ƒ

åˆ›å»ºç©ºç™½canvas

* `fig = plt.figure()`

å¦‚æœæƒ³è¦åˆ«çš„å¤§å°çš„canvas

* `fig = plt.figure(figsize(3,3))`
  * quite small

### Axes/Subplot: è½´åŸŸ/å­å›¾

æ¯ä¸ªaxesæ˜¯ä¸€ä¸ªplotçš„facetè§†å›¾

* it has a **coordinate system which used to draw data** æ¯ä¸ªfacetæœ‰å„è‡ªåæ ‡ç³»ç»Ÿç”¨äºå±•ç¤ºdata

ğŸŠ åˆ›å»ºæ–°axis

![](/static/2020-11-06-20-33-38.png)

* `flg.add_subplot(rows, columns, index)`
* åœ¨è½´çŸ©é˜µä¸­åˆ›å»ºå­å›¾ã€‚ç´¢å¼•æ¡ˆåˆ—å¢åŠ ï¼Œç„¶åæŒ‰è¡Œå¢åŠ 
  * æŒ‰`1`å¼€å§‹
* **å¤§å¤šæƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸€ä¸ªè½´ç”¨äºå¡«å……figure**
  * `fig.add_subplot(1,1,1)`

```python
"""
   --------
   | 1 | 2 |
   |ã€3ã€‘| 4 |
   | 5 | 6 |
   ---------
"""
plt.add_subplot(3, 2, 3)# é€‰ä¸­3x2 matrix ä¸­çš„ç¬¬3ä¸ª
```

![](/static/2020-11-06-20-38-33.png)

![](/static/2020-11-07-14-57-44.png)

ğŸŠ é’ˆå¯¹å­å›¾è¿›è¡Œå„ç§æ ‡æ³¨

```python
fig = plt.figure()
ax = fig.add_subplot(111)
ax.set(xlim[0.5, 4.5], ylim=[-2, 8], title='An Example Axes', ylable='Y-Axis',xlabel='X-Axis')
plt.show()
```

#### add_axes vs add_subplot

![](/static/2020-11-07-15-05-15.png)

![](/static/2020-11-07-15-06-20.png)

### line plot & other plot

`ax.cla()`

* clear axes æ¸…ç©ºè½´åŸŸ

`ax.plot(x,y)`

![](/static/2020-11-07-15-07-46.png)

* `label`æŒ‡å®šæ ‡ç­¾
* `legend`å›¾ä¾‹
  * use to label the graph afterwards
* è¡¨è¾¾æ˜ç¡®ï¼Œåˆ†æ­¥ç”Ÿæˆfigure, axes/subplot
* ä»£ç å¤š
* <font color="red">æ³¨æ„ï¼š åŒä¸€axisä¸Šé‡å¤plotï¼Œä¼šç”Ÿæˆä¸åŒå›¾å±‚layers</font>

```python
ax.cla()  # cla means to CLear Axes.
# it does nothing the first time we run it, but it will clear the plot and redraw if
# you run this cell multiple times. Try commenting it out and running this cell twice!


ax.plot(x, pulse(x,1), label='k=1')
ax.plot(x, pulse(x, 5), label='k=5')
ax.plot(x, pulse(x, 100), label='k=100')

# you can adjust the styling of the plot manually: 
#   here the color is black ("k") 
#   and the linestyle is dotted (":")
ax.plot(x, pulse(x, 500), label='k=500', color='k', linestyle=':')

## note that there are several built-in colors called
# C0, C1, C2, C3, C4, C5, and C6
# they will generally look good
# try changing the 'k' above to 'C6'

```

`plt.plot(...)`

![](/static/2020-11-07-15-08-58.png)

* è°ƒç”¨äº†pyplotä¸­çš„`plot()` & `xlim()`
* è¡¨è¾¾ç®€æ´ï¼Œæ²¡ä½“ç°çœŸæ­£å®ç°è¿‡ç¨‹

### add labels

ä¸ºï¼Œxï¼Œy-axisæ·»åŠ labelã€‚ä¸º axes/subplotï¼ˆè½´åŸŸ/å­å›¾ï¼‰æ·»åŠ title

* <font color="red">æ³¨æ„ï¼Œå¤šå›¾å±‚éœ€è¦æœ‰legendï¼Œå›¾ä¾‹</font>
  * `ax.legend()`
* `ax.set_xlabel()`
  * x-axisæ·»åŠ æ ‡ç­¾
* `ax.set_ylabel()`
  * y-axisæ·»åŠ æ ‡ç­¾
* `ax.set_title()`
  * æ·»åŠ æ ‡é¢˜

```python
# label the plot 
ax.set_xlabel("Phase (radians)")  # x-axis label
ax.set_ylabel("Amplitude")        # y-axis label
ax.set_title("Pulse wave function for various $k$")  # title of plot (appears above plot)

# create a legend (key) for the plot, using the labels specified
# in the ax.plot() calls, like ax.plot(x,y, label="xy")
#æ ¹æ®å…ˆå‰çš„ax.plot()ä¸­çš„labelå±æ€§ï¼Œåˆ›å»ºå¯¹åº”legend
ax.legend()
```

### set_x/ylim: è°ƒæ•´è½´èŒƒå›´

é»˜è®¤ï¼Œaxisç¼©æ”¾ä¼šè‡ªé€‚åº”data

* æ‰‹åŠ¨è°ƒæ•´ - è§„å®šäº†ç”¨äºå±•ç¤ºdataçš„åæ ‡
  * `ax.set_xlim(min, max)`
  * `ax.set_ylim(min, max)`

## Tweakï¼šå…¶ä»–è°ƒæ•´

æ·»åŠ ç½‘æ ¼

* `ax.grid(True)`

æ·»åŠ è¾¹æ¡†

* `ax.set_frame_on(True)`

è®¾ç½®åˆ»åº¦å€¼åæ ‡

* `ax.set_xticks(np.arange(12))`
* `ax.set_xticklabels(["Jan", "Feb", "Mar", "Apr", "May", "Jun",
                   "Jul","Aug","Sep", "Oct", "Nov", "Dec"])`

```python
ax.set_xticks([-10, -5, 0, 5, 10]) # Tick positions on the x axis
ax.set_yticks([0,0.5,1.0]) # and on the y-axis
```

```python
# this is a fancier tick adjustment
# Tick positions on the x axis
ax.set_xticks([-2*np.pi, -np.pi, 0, np.pi, 2*np.pi]) 

# we can relabel the ticks using the same order.
# LaTeX formulae work if inside $ symbols
ax.set_xticklabels(["$-2\pi$", "$-\pi$", "0",
"$\pi$", "$2\pi$"])# è®¾ç½®æ ‡ç­¾

```

### plt.get_mcmap

`plt.get_cmap("viridis")`